<div class="survey-header-container">
    <div class="col-md-8 survey-title">{{model.title}}</div>
    <div class="col-md-4">
        <button (click)="handleReport()" class="right">Report</button>
    </div>
    <div class="clearfix"></div>
</div>


<div class="loader" *ngIf="!this.summaryData"></div>
<div *ngIf="summaryData && summaryData.surveyFeedId == 0">
    No submissions have been received for this survey.
</div>
<div *ngIf="this.summaryData && summaryData.surveyFeedId > 0">
    <div>
        <div class="col-md-6 stat-container animate-bottom">
            <p class="container-header">Reach</p>
            <div class="header-border"></div>
            <div class="stat-block">
                <div class="stat-title">
                    <div class="col-md-4 total-learners">
                        <h5 *ngIf="summaryData">
                            {{summaryData.submitted}}
                        </h5>
                        <p>Total learners</p>
                        <div class="clearboth"></div>
                    </div>
                    <i class="material-icons right">person</i>
                </div>

                <div class="stat-body">
                    <div class="loader" *ngIf="!submissionRateData"></div>
                    <div *ngIf="submissionRateData">
                        <gaugechart [chartData]="submissionRateData" [id]="'submissionRatioChart'"></gaugechart>
                        <h5 *ngIf="summaryData">
                            <b>{{summaryData.passed}} <span>submitted / </span></b>
                            {{summaryData.submitted}} <span> total</span>
                        </h5>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 stat-container animate-bottom">
            <p class="container-header">Distribuiton of submissions</p>
            <div class="header-border"></div>
            <div class="stat-block">
                <div class="stat-title">
                </div>
                <div class="stat-body">
                    <div class="loader" *ngIf="!averageTimeData"></div>
                    <div *ngIf="averageTimeData">
                        <barchart [chartData]="averageTimeData" [id]="'averageTimeChart'"></barchart>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>

    <div *ngFor="let questionResults of this.listData; let i=index" class="col-md-6 stat-container animate-bottom">
        <p class="container-header">Question {{i + 1}}</p>
        <div class="question-result">
            <dynamicchartformats [data]="questionResults"></dynamicchartformats>
        </div>
    </div>
    <div class="clearfix"></div>

</div>
